## 2.1 package.json í†ºì•„ë³´ê¸°

### package.json

- Node.js í”„ë¡œì íŠ¸ì˜ ì •ë³´ë¥¼ ê¸°ìˆ í•˜ëŠ” í•µì‹¬ íŒŒì¼
- í”„ë¡œì íŠ¸ì˜ ë©”íƒ€ë°ì´í„° ì •ì˜, íŒ¨í‚¤ì§€ ì‹¤í–‰ê³¼ ê°œë°œì— í•„ìš”í•œ ì˜ì¡´ì„± ë‚˜ì—´, ì‹¤í–‰ ê°€ëŠ¥í•œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì„¤ì •í•˜ëŠ” ì—­í• 
- ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ í˜•íƒœê°€ ì•„ë‹Œ ìˆœìˆ˜í•œ JSON í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•´ì•¼ í•¨

### package.jsonì˜ ì£¼ìš” í•„ë“œ

#### ğŸ”· name

- Node.js í”„ë¡œì íŠ¸ì˜ ì´ë¦„ì„ ì„ ì–¸í•˜ëŠ” í•„ë“œ
- npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì—…ë¡œë“œí•˜ê±°ë‚˜ ë‚´ë¶€ì ìœ¼ë¡œ í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ë‹¤ë¥¸ ê³³ì—ì„œ ì°¸ì¡°í•  ëª©ì ì´ ì—†ë‹¤ë©´ ì—†ì–´ë„ ë¬´ë°©
  - ì›¹ ì„œë¹„ìŠ¤ ëª©ì ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ `package.json` â†’ ë¹Œë“œí•œ íŒŒì¼ë§Œ íŠ¹ì • ì„œë²„ì— ì—…ë¡œë“œí•´ì„œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸
- name í•„ë“œ ê·œì¹™
  - ì´ë¦„ì€ 214ì ì´í•˜ì´ë©°, ê¸€ì ì œí•œì—ëŠ” ìŠ¤ì½”í”„ê¹Œì§€ í¬í•¨
  - ìŠ¤ì½”í”„ ë’¤ì— ì˜¤ëŠ” ì´ë¦„ì€ `.`ì´ë‚˜ `_`ë¡œ ì‹œì‘í•  ìˆ˜ ìˆìŒ
  - ì˜¤ì§ ì†Œë¬¸ìë§Œ ì‚¬ìš© ê°€ëŠ¥
  - URLì—ì„œ í‘œì‹œí•  ìˆ˜ ì—†ëŠ” ë¬¸ìì—´(ê³µë°±, #, %, ? ë“± íŠ¹ìˆ˜ë¬¸ìëŠ” í¬í•¨ë  ìˆ˜ ì—†ìŒ)ì€ ì‚¬ìš© ë¶ˆê°€ëŠ¥
  - Node.jsì˜ ì½”ì–´ ëª¨ë“ˆê³¼ ì´ë¦„ì´ ë™ì¼í•´ì„œëŠ” ì•ˆ ë¨

#### scope

- ì¡°ì§ ë˜ëŠ” ê·¸ë£¹ì„ ì˜ë¯¸í•˜ë©°, ì—¬ëŸ¬ íŒ¨í‚¤ì§€ ì‚¬ì´ì— ì—°ê´€ ìˆëŠ” íŒ¨í‚¤ì§€ë¥¼ ë¬¶ê³  ì‹¶ì„ ë•Œ ì£¼ë¡œ ì‚¬ìš©
- `@scope/packagename` í˜•íƒœë¡œ ì‚¬ìš©í•˜ê³ , ì—¬ê¸°ì„œ `@scope/` ê°™ì€ ì˜ì—­ì„ ìŠ¤ì½”í”„ë¼ í•¨
- ìŠ¤ì½”í”„ê°€ ìˆëŠ” íŒ¨í‚¤ì§€ëŠ” `node_modules/@scope/packagename`ê³¼ ê°™ì´ ìŠ¤ì½”í”„ë¥¼ í´ë”ë¡œ ì¶”ê°€í•´ì„œ ì„¤ì¹˜ë¨

#### ğŸ”· version

- npm ìŠ¤íŠ¸ë¦¬ì— ì—…ë¡œë“œ, ì¦‰ íŒ¨í‚¤ì§€ë¥¼ ê³µê°œí•  ê³„íšì´ë¼ë©´ name í•„ë“œì™€ ë”ë¶ˆì–´ ê°€ì¥ ì‹ ê²½ì¨ì•¼ í•  í•„ë“œ
  - íŒ¨í‚¤ì§€ë¥¼ ê³µê°œí•  ê³„íšì´ ì—†ë‹¤ë©´ nameê³¼ version í•„ë“œëŠ” ì„ íƒ ì‚¬í•­
- nameê³¼ versionì˜ ì¡°í•©ì€ í•­ìƒ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë‚´ë¶€ì—ì„œ ê³ ìœ í•´ì•¼ í•¨

#### description

- íŒ¨í‚¤ì§€ì— ëŒ€í•œ ì„¤ëª…ì„ ë„£ëŠ” í•„ë“œ

#### keywords

- íŒ¨í‚¤ì§€ì™€ ê´€ë ¨ëœ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ëŠ” í•„ë“œ
- ë³´í†µ íŒ¨í‚¤ì§€ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆëŠ” ê°„ë‹¨í•œ í‚¤ì›Œë“œ ë˜ëŠ” íŒ¨í‚¤ì§€ê°€ ì˜ì¡´ì„±ì„ ê°€ì§€ê³  ìˆëŠ” í”„ë ˆì„ì›Œí¬ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ëª…ì„ ì„ ì–¸í•´ë‘ëŠ” ê²ƒì´ ì¼ë°˜ì 

> âœ¨ `npm search`ë¥¼ í†µí•´ description, keywordë¥¼ í†µí•´ íŒ¨í‚¤ì§€ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŒ

#### homepage

- íŒ¨í‚¤ì§€ì˜ í™ˆí˜ì´ì§€ URLì„ ê¸°ì¬í•˜ëŠ” ê³³

#### ğŸ§Â npm info <packagename>

```bash
âœ“âœ“âœ“: npm info react

react@19.1.1 | MIT | deps: none | versions: 2483
React is a JavaScript library for building user interfaces.
https://react.dev/

keywords: react

dist
.tarball: https://registry.npmjs.org/react/-/react-19.1.1.tgz
.shasum: 06d9149ec5e083a67f9a1e39ce97b06a03b644af
mk4CMYhWIicdSflH91J9TyCyczcPFXJzrZ/ZXcgGRFeP6BU0BEJTw6tZdfQ==
.unpackedSize: 167.0 kB

maintainers:
- fb <opensource+npm@fb.com>
- react-bot <react-core@meta.com>

dist-tags:
beta: 19.0.0-beta-26f2496093-20240514               latest: 19.1.1
0-canary-de5a1b20-20250905
experimental: 0.0.0-experimental-de5a1b20-20250905  rc: 19.0.0-rc.1

published a month ago by react-bot <react-core@meta.com>
```

#### bugs

- íŒ¨í‚¤ì§€ì— ë²„ê·¸ê°€ ìˆì„ ê²½ìš° ì œë³´í•  ìˆ˜ ìˆëŠ” ì£¼ì†Œ(url)ë‚˜ ì´ë©”ì¼ ì£¼ì†Œ(email)ì„ ì…ë ¥í•˜ëŠ” í•„ë“œ

```json
{
  "bugs": {
    "url": "https://github.com/npm/example/issues",
    "email": "example@npmjs.com"
  }
}
```

- ë§Œì•½ í•˜ë‚˜ì˜ urlë¡œë§Œ ì œê³µí•˜ê³ ì í•˜ëŠ” ê²½ìš°, bugs í•„ë“œì— urlì„ ë¬¸ìì—´ í˜•íƒœë¡œ ì…ë ¥ë„ ê°€ëŠ¥

```json
{
  "bugs": "https://github.com/npm/example/issues"
}
```

### ğŸ”· license

- íŒ¨í‚¤ì§€ì— ëŒ€í•œ ë¼ì´ì„ ìŠ¤ë¥¼ ì§€ì •í•˜ëŠ” í•„ë“œ
- íŒ¨í‚¤ì§€ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , ì–´ë–¤ ì œí•œì´ ìˆëŠ”ì§€ ì•Œë¦´ ìˆ˜ ìˆìŒ
- ì›í•˜ëŠ” ë¼ì´ì„ ìŠ¤ì˜ SPDX IDë¡œ license í•„ë“œì— ì‘ì„±
  - SPDX ID(Software Package Data Exchange)
    - ì˜¤í”ˆì†ŒìŠ¤ ì†Œí”„íŠ¸ì›¨ì–´ ë¼ì´ì„ ìŠ¤ì™€ ê´€ë ¨ëœ ì •ë³´ë¥¼ í‘œì¤€í™”ëœ ë°©ì‹ìœ¼ë¡œ ê³µìœ í•˜ê³  ì „ë‹¬í•˜ëŠ”ë° ì‚¬ìš©
    - ê° ë¼ì´ì„ ìŠ¤ë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ê³ ìœ í•œ ì‹ë³„ìë¥¼ í†µí•´ ëª¨ë“  ì†Œí”„íŠ¸ì›¨ì–´ì—ì„œ ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•˜ê³  ì¸ì§€í•˜ëŠ” ë° ëª©ì 
- ë¼ì´ì„ ìŠ¤ì˜ ì¢…ë¥˜
  - MIT ë¼ì´ì„ ìŠ¤
  - ISC ë¼ì´ì„ ìŠ¤ (npm initìœ¼ë¡œ ì„¤ì¹˜ ì‹œ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë¼ì´ì„ ìŠ¤)
  - ì•„íŒŒì¹˜ ë¼ì´ì„ ìŠ¤ 2.0
  - BSD ë¼ì´ì„ ìŠ¤
- ë¼ì´ì„ ìŠ¤ ì§€ì • ë°©ë²•
  1. ë¼ì´ì„ ìŠ¤ IDë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•
  ```json
  {
    "license": "MIT"
  }
  ```
  2. ë¼ì´ì„ ìŠ¤ íŒŒì¼ì„ ëª…ì‹œí•˜ëŠ” ë°©ë²•
  ```json
  {
    "license": "SEE LICENSE IN <LICENSE.md>"
  }
  ```
  3. ë¼ì´ì„ ìŠ¤ê°€ ì—†ëŠ” ê²½ìš° â†’ ë‹¤ë¥¸ ì‚¬ëŒì´ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ ê¸°ì¬í•œ ê²ƒì´ê¸° ë•Œë¬¸ì— ì„¤ì¹˜í•  ë•Œ ì£¼ì˜
  ```json
  {
    "license": "UNLICENSED"
  }
  ```

#### people: authorì™€ contributors

- name, email, url í•„ë“œë¥¼ ê°€ì§„ `person` ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
  - person ê°ì²´
  ```json
  {
    "name": "Barney Rubble",
    "email": "barney@npmjs.com",
    "url": "http://barnyrubble.npmjs.com/"
  }
  ```
  - í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ ì‘ì„±í•˜ë©´ npmì´ ìë™ìœ¼ë¡œ íŒŒì‹±ë„ ê°€ëŠ¥
  ```json
  {
    "author": "Barney Rubble <barney@npmjs.com> (http://barnyrubble.npmjs.com/)"
  }
  ```
- authorëŠ” í•œ ëª…ë§Œ ì§€ì • ê°€ëŠ¥í•˜ê³ , contributorëŠ” ì—¬ëŸ¬ ëª… ì„ ì–¸ ê°€ëŠ¥

#### funding

- íŒ¨í‚¤ì§€ ê°œë°œì— ì§ì ‘ì ì¸ ìê¸ˆì„ ì§€ì›í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ëŠ” í•„ë“œ

```json
{
  "funding": {
    "type": "individual",
    "url": "http://npmjs.com/donate"
  }
}

{
  "funding": {
    "type": "patreon",
    "url": "https://www.patreon.com/user"
  }
}

{
  "funding": "http://npmjs.com/donate"
}

{
  "funding": [
    {
      "type": "individual",
      "url": "http://npmjs.com/donate"
    },
    "http://npmjs.com/donate-also",
    {
      "type": "patreon",
      "url": "https://www.patreon.com/user"
    }
  ]
}
```

- npm fund ëª…ë ¹ì–´ë¡œ í”„ë¡œì íŠ¸ì˜ ì˜ì¡´ì„±ì— ìˆëŠ” ëª¨ë“  funding ì£¼ì†Œë¥¼ ê°€ì ¸ì™€ì„œ ë³´ì—¬ì¤Œ
- íŠ¹ì • íŒ¨í‚¤ì§€ì— ëŒ€í•œ í€ë”© ì •ë³´ë§Œ ë³´ëŠ” ê²ƒë„ ê°€ëŠ¥

#### ğŸ”· files

- npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì—…ë¡œë“œë  ë•Œ í¬í•¨í•´ì•¼ í•  íŒŒì¼ ëª©ë¡ì„ ë°°ì—´ë¡œ ì„ ì–¸
- íŒ¨í‚¤ì§€ë¥¼ ì˜ì¡´ì„±ìœ¼ë¡œ ì„¤ì¹˜í•˜ëŠ” ê²½ìš° ê¼­ í•„ìš”í•œ íŒŒì¼ë§Œ ì„ íƒì ìœ¼ë¡œ ë°°í¬ ê°€ëŠ¥
- íŒŒì¼ íŒ¨í„´ì€ `.gitignore`ì™€ ìœ ì‚¬í•œ ë¬¸ë²•ìœ¼ë¡œ ì„ ì–¸
- ì¼ë¶€ íŠ¹ìˆ˜ íŒŒì¼ ë° ë””ë ‰í† ë¦¬ëŠ” íŒŒì¼ ë°°ì—´ì— ì¡´ì¬í•˜ëŠ”ì§€ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ í¬í•¨ë˜ê±°ë‚˜ ì œì™¸
  - í•­ìƒ í¬í•¨ë˜ëŠ” íŒŒì¼
    - `package.json`
    - `README`
    - `LICENSE`Â /Â `LICENCE`
    - The file in the "main" field
    - The file(s) in the "bin" field
  - í•­ìƒ ì œì™¸ë˜ëŠ” íŒŒì¼
    - `.orig`
    - `.*.swp`
    - `.DS_Store`
    - `._*`
    - `.git`
    - `.hg`
    - `.lock-wscript`
    - `.npmrc`
    - `.svn`
    - `.wafpickle-N`
    - `CVS`
    - `config.gypi`
    - `node_modules`
    - `npm-debug.log`
    - `package-lock.json`Â (useÂ [`npm-shrinkwrap.json`](https://docs.npmjs.com/cli/v11/configuring-npm/npm-shrinkwrap-json)Â if you wish it to be published)
    - `pnpm-lock.yaml`
    - `yarn.lock`
    - `bun.lockb`
- `.npmignore`ë¥¼ ì‚¬ìš©í•˜ë©´ files í•„ë“œì— ì„ ì–¸ë˜ì—ˆë”ë¼ë„ `.npmignore`ì— ì˜í•´ ë¬´ì‹œë¨
  - `.npmignore`ê°€ ì—†ë‹¤ë©´ `.gitignore`ê°€ ëŒ€ì‹ 
- â—ï¸ `.npmignore` íŒŒì¼ê³¼ files í•„ë“œë¥¼ ë™ì‹œì— ì‚¬ìš©í•  ë•ŒëŠ” ì£¼ì˜ ì‚¬í•­
  - íŒ¨í‚¤ì§€ ìµœìƒìœ„ì— ìˆëŠ” files í•„ë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ì§€ ì•Šì§€ë§Œ í•˜ìœ„ ë””ë ‰í„°ë¦¬ì—ì„œëŠ” ì˜¤ë²„ë¼ì´ë“œ
  - íŒ¨í‚¤ì§€ ìµœìƒìœ„ì— ìˆëŠ” `.npmignore`ë³´ë‹¤ëŠ” filesì— ìˆëŠ” ê²ƒì´ ìš°ì„ ì‹œ
  - í•˜ìœ„ íŒ¨í‚¤ì§€ì˜ ê²½ìš° ë°˜ëŒ€ë¡œ `.npmignore`ì— ìˆëŠ” ê²ƒì´ ìš°ì„ ì‹œë˜ì–´ ë¬´ì‹œ
- ì¼ë°˜ì ì¸ íŒ¨í‚¤ì§€ì˜ ì¼ì¼ì´ íŒŒì¼ì„ ì§€ì •í•˜ê¸°ë³´ë‹¤ëŠ” glob íŒ¨í„´ì„ ì‚¬ìš©í•´ ì—¬ëŸ¬ íŒŒì¼ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì 
  - glob íŒ¨í„´: íŒŒì¼ ê²½ë¡œ ë‚´ì˜ ì§‘í•©ì„ ì§€ì •í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ì¼ì¢…ì˜ ë¬¸ìì—´ íŒ¨í„´
    - `-` : 0ê°œ ì´ìƒì˜ ë¬¸ì
    - `?`: ì •í™•íˆ í•˜ë‚˜ì˜ ë¬¸ìì— ì¼ì¹˜
    - `[]`: ì´ ì•ˆì˜ ë¬¸ì ì¤‘ í•˜ë‚˜ì™€ ì¼ì¹˜
    - `**/`: ëª¨ë“  ë””ë ‰í„°ë¦¬ì— ëŒ€í•œ ì¬ê·€ì ì¸ íƒìƒ‰

#### main

- íŒ¨í‚¤ì§€ì˜ ì§„ì… íŒŒì¼
- mainì´ ë³„ë„ë¡œ ì„¤ì •ë¼ ìˆì§€ ì•Šë‹¤ë©´ ê¸°ë³¸ê°’ìœ¼ë¡œ `index.js` ì„ ì–¸

#### browser

- ë¸Œë¼ìš°ì €ì™€ ê°™ì€ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì‚¬ìš©í•˜ê³ ì í•œë‹¤ë©´ main í•„ë“œ ëŒ€ì‹  browser í•„ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ íŒ¨í‚¤ì§€ ì§„ì… íŒŒì¼ì„ ì„¤ì •
- window ê°™ì€ ê°ì²´ì— ì˜ì¡´ ì¤‘ì¸ ëª¨ë“ˆì´ browserì— ìˆë‹¤ëŠ” ê²ƒì„ ì•Œë¦¬ëŠ” ë° ìœ ìš©

#### bin

- ì‹¤í–‰ ê°€ëŠ¥í•œ íŒŒì¼ì˜ ìœ„ì¹˜ë¥¼ ì„ ì–¸í•˜ëŠ” ê³³
- `npm install -g <íŒ¨í‚¤ì§€ëª…>`ìœ¼ë¡œ ì „ì—­ í™˜ê²½ì— ì„¤ì¹˜í•˜ë©´ í•´ë‹¹ íŒŒì¼ì€ ì „ì—­ bin ë””ë ‰í„°ë¦¬ ë‚´ë¶€ì— ë§í¬ë˜ê±°ë‚˜ bin í•„ë“œì— ì§€ì •ëœ íŒŒì¼ì„ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´ê°€ ìƒì„±ë˜ì–´ í•´ë‹¹ ì´ë¦„ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥
- íŒ¨í‚¤ì§€ê°€ ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì˜ ì˜ì¡´ì„±ìœ¼ë¡œ ì„¤ì¹˜ëœë‹¤ë©´ `npm exec` ëª…ë ¹ì´ë‚˜ ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ í•´ë‹¹ ì‹¤í–‰ íŒŒì¼ì„ í˜¸ì¶œ ê°€ëŠ¥

```json
{
  "name": "create-react-app",
  "version": "5.0.1",
  "files": ["index.js", "createReactApp.js"],
  "bin": {
    "create-react-app": "./index.js"
  }
}
```

- `npm install -g create-react-app` ì‹¤í–‰ â†’ bin í•„ë“œì— ìˆëŠ” `create-react-app`ì„ npmì´ ì „ì—­ í™˜ê²½ì— ëª…ë ¹ì–´ë¡œ ë“±ë¡ â†’ `create-react-app <ì„œë¹„ìŠ¤ëª…>` ì‹¤í–‰ â†’ `create-react-app`ì˜ `index.js`ê°€ ì‹¤í–‰
- ë§Œì•½ binì— ê°ì²´ ëŒ€ì‹  íŒŒì¼ëª…ë§Œ ê¸°ì¬í•˜ë©´ `package.json`ì˜ nameìœ¼ë¡œ ëª…ë ¹ì–´ê°€ ë“±ë¡ë¨
- Node.jsë¡œ ì‹¤í–‰ë  íŒŒì¼ì„ bin í•„ë“œì— ë„£ì–´ë’€ë‹¤ë©´ ì´ íŒŒì¼ ìƒë‹¨ì— ë°˜ë“œì‹œ `#!/usr/bin/env node`ë¥¼ ì„ ì–¸í•´ì•¼ í•¨ â†’ ì…”ë±…(shebang)
- ì…”ë±…ì„ ì„ ì–¸í•˜ë©´ êµ³ì´ bin í•„ë“œì— `node ./index.js` ë¡œ ì§€ì •í•˜ì§€ ì•Šì•„ë„ Node.jsë¡œ ì‹¤í–‰ë¨

#### ğŸ”´ man

- ìµœê·¼ì—ëŠ” íŒ¨í‚¤ì§€ì— ëŒ€í•œ ë§¤ë‰´ì–¼ì´ ê±°ì˜ ëŒ€ë¶€ë¶„ ì›¹ì‚¬ì´íŠ¸ ë˜ëŠ” ê¹ƒí—ˆë¸Œì— ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— í˜„ëŒ€ì˜ npm íŒ¨í‚¤ì§€ì—ì„œëŠ” ê±°ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í•„ë“œ
- man <íŒ¨í‚¤ì§€ëª…>ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´ package.jsonì— ìˆëŠ” man í•„ë“œì˜ ê°’ì´ ìœ ë‹‰ìŠ¤ man ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ë¨

#### ğŸ”´ directories

- CommonJS 1.0 ì‚¬ì–‘ì—ëŠ” ì´ directories í•„ë“œë¥¼ ì„ íƒ ì‚¬í•­ìœ¼ë¡œ ì„ ì–¸í•´ë‘ì—ˆì§€ë§Œ, ìµœê·¼ ë“¤ì–´ ìì£¼ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í•„ë“œ
  - https://wiki.commonjs.org/wiki/Packages/1.0
- lib, src, docs, test, bin ë“±ì˜ í•„ë“œ ì„ ì–¸ ê°€ëŠ¥
- í”„ë¡œì íŠ¸ì˜ êµ¬ì¡°ê°€ ê·œê²©í™”ë˜ê³ , êµ³ì´ íŒ¨í‚¤ì§€ì˜ srcë‚˜ test ë“±ì„ í™•ì¸í•  ì¼ë„ ë³„ë¡œ ì—†ê¸° ë•Œë¬¸ì— ì‚¬ìš©ë˜ëŠ” ê²½ìš°ê°€ ë§ì´ ì¤„ì–´ë“¤ì—ˆìŒ

> _In the future, this information may be used in other creative ways._

#### repository

- ì‹¤ì œ íŒ¨í‚¤ì§€ì˜ ì½”ë“œê°€ ìˆëŠ” ê³³ì„ ê¸°ì¬í•˜ëŠ” í•„ë“œ

```json
{
  "repository": {
    "type": "git",
    "url": "https://github.com/npm/cli.git"
  }
}
```

- GitHub, GitHub gist, Bitbucket, GitLab ë“±ì€ ì¶•ì•½í•´ì„œ ì‚¬ìš© ê°€ëŠ¥

```json
{
  "repository": "npm/example",

  "repository": "github:npm/example",

  "repository": "gist:11081aaa281",

  "repository": "bitbucket:user/repo",

  "repository": "gitlab:user/repo"
}
```

- ëª¨ë…¸ë ˆí¬ì™€ ê°™ì´ package.jsonì´ ìµœìƒìœ„ ì €ì¥ì†Œ ì™¸ì— í•˜ìœ„ í´ë”ì— ìˆë‹¤ë©´ í•´ë‹¹ ë””ë ‰í„°ë¦¬ ìœ„ì¹˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ëª…ì‹œ í•„ìš”

```json
{
  "repository": {
    "type": "git",
    "url": "git+https://github.com/npm/cli.git",
    "directory": "workspaces/libnpmpublish"
  }
}
```

#### ğŸ”· scripts

- npmì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ëª…ë ¹ì–´ë¿ë§Œ ì•„ë‹ˆë¼ ì„ì˜ì˜ ëª…ë ¹ì–´ë¥¼ ì„ ì–¸í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í•„ë“œ
- `npm run-script <ëª…ë ¹ì–´>` ë˜ëŠ” `npm run <ëª…ë ¹ì–´>`ë¥¼ í†µí•´ ì‹¤í–‰í•  ìˆ˜ ìˆìŒ
- pre, post ì ‘ë‘ì‚¬ ì§€ì›
  - `npm run compress` ì‹¤í–‰ ì‹œ,
    - `npm run precompress` â†’ `npm run compress` â†’ `npm run postcompress` ìˆœìœ¼ë¡œ ì‹¤í–‰

```json
{
  "scripts": {
    "precompress": "<compress ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë˜ê¸° ì „ì— ì‹¤í–‰í•  ë‚´ìš©>",
    "compress": "<compress ëª…ë ¹ì–´ì— ë”°ë¥¸ ì‹¤í–‰>",
    "postcompress": "<compress ëª…ë ¹ì–´ ì´í›„ì— ì‹¤í–‰í•  ë‚´ìš©>"
  }
}
```

- íŠ¹ì • ëª…ë ¹ì–´ ì•ì— `í‚¤=ê°’`ì„ ì§€ì •í•˜ì—¬ ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë˜ëŠ” í™˜ê²½ì—ì„œ `process.env.<í‚¤>`ë¥¼ í†µí•´ ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŒ

```json
{
  "scripts": {
    "start": "REACT_PROFILE=dev next start"
  }
}
```

- í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ì‹ì€ ìœ ë‹‰ìŠ¤ ê³„ì—´ì˜ ìš´ì˜ì²´ì œì—ì„œë§Œ ì‚¬ìš©ê°€ëŠ¥í•˜ë¯€ë¡œ ìœˆë„ìš°ì—ì„œëŠ” ì‚¬ìš© ë¶ˆê°€
  - ìš´ì˜ì²´ì œì— ê´€ê³„ì—†ì´ í™˜ê²½ë³€ìˆ˜ë¥¼ ì¼ì •í•˜ê²Œ ì£¼ì…í•˜ê¸° ìœ„í•´ `dotenv`ë‚˜ `cross-env` ì‚¬ìš©ì„ ê¶Œì¥
- scriptsì˜ ëª…ë ¹ì–´ë¡œ ë‹¤ë¥¸ scriptsë¥¼ ì‹¤í–‰í•  ìˆ˜ë„ ìˆìŒ

```json
{
  "scripts": {
    "build": "next build",
    "test": "jest",
    "ci": "npm run build && npm run test"
  }
}
```

- ì˜ëª» ì„¤ì •í•  ê²½ìš° ë¬´í•œë£¨í”„ì— ë¹ ì§€ê²Œ ë  ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ, ëª…ë ¹ì–´ ê°„ì˜ ìˆœí™˜ ì°¸ì¡°ë¥¼ í”¼í•´ì•¼ í•¨

```json
{
  "scripts": {
    "build": "npm run test",
    "test": "npm run build"
  }
}
```

#### ğŸ”´ config

- íŒ¨í‚¤ì§€ì— scriptsë¥¼ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ì„¤ì • ê´€ë ¨ ê°’ì„ ê°ì²´ í˜•íƒœë¡œ ëª¨ì•„ë‘˜ ìˆ˜ ìˆìŒ

```json
{
  "name": "foo",
  "config": {
    "port": "8080"
  }
}
```

- `npm_package_config_port` í˜•íƒœë¡œ íŒ¨í‚¤ì§€ ë‚´ë¶€ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

```jsx
console.log(process.env.npm_package_config_port)
```

- ìš”ì¦˜ì— ë“¤ì–´ì„œëŠ” ìì£¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
  - json í˜•íƒœë¡œ ì‘ì„±í•´ì•¼ í•´ì„œ ê´€ë¦¬ê°€ ì–´ë ¤ì›€
  - ê°’ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ê¸´ ì ‘ë‘ì‚¬(`npm_package_config`)ê°€ í•„ìš”
  - ë”°ë¼ì„œ ì‹¤ì œ ê°œë°œ í™˜ê²½ì—ì„œëŠ” `.env` íŒŒì¼ë§Œìœ¼ë¡œ í™˜ê²½ë³€ìˆ˜ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” `dotenv`ë¥¼ ë” ë§ì´ ì‚¬ìš©í•˜ëŠ” í¸

#### ğŸ”· dependencies

- Node.js í”„ë¡œì íŠ¸ê°€ ì‹¤í–‰ë˜ëŠ” ë° í•„ìš”í•œ ì™¸ë¶€ íŒ¨í‚¤ì§€ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì •ì˜í•˜ëŠ” í•„ë“œ
- í”„ë¡œì íŠ¸ê°€ ì˜ì¡´í•˜ëŠ” íŒ¨í‚¤ì§€ë“¤ê³¼ í•´ë‹¹ ë²„ì „ ë²”ìœ„ê°€ ëª…ì‹œ
- dependencies ì™¸ì—ë„ peerDependencies, devDependencies ë“±ì˜ í•„ë“œê°€ ì¡´ì¬

#### overrides

- íŒ¨í‚¤ì§€ ìì‹ ì´ ì°¸ì¡°í•˜ê³  ìˆëŠ” ì˜ì¡´ì„±ì˜ ì˜ì¡´ì„± ë²„ì „ì„ ìˆ˜ì •í•˜ê³  ì‹¶ì„ ë•Œ ìœ ìš©
- ì˜ì¡´ì„± íŠ¸ë¦¬ì˜ íŒ¨í‚¤ì§€ ë²„ì „ì„ ë‹¤ë¥¸ ë²„ì „ í˜¹ì€ ì™„ì „íˆ ë‹¤ë¥¸ íŒ¨í‚¤ì§€ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆìŒ
- overridesë¡œ íŒ¨í‚¤ì§€ ì˜ì¡´ì„±ì— ìˆëŠ” ëª¨ë“  íŒ¨í‚¤ì§€ì˜ ë²„ì „ ë³€ê²½í•˜ê¸°

```jsx
{
  "overrides": {
    "@npm/foo": "1.0.0"
  }
}
```

- overridesë¡œ íŠ¹ì • íŒ¨í‚¤ì§€ê°€ ì˜ì¡´í•˜ê³  ìˆëŠ” íŒ¨í‚¤ì§€ ë²„ì „ ë³€ê²½í•˜ê¸°

```jsx
{
  "overrides": {
    "@npm/foo": {
      "@npm/bar": "2.0.0"
    }
  }
}
```

- ì£¼ë¡œ ê¸´ê¸‰í•œ ë³´ì•ˆ ìœ„í˜‘ì´ ë°œìƒí•´ì„œ ë¹ ë¥´ê²Œ ëŒ€ì‘í•˜ê³ ì í•  ë•Œ í•´ë‹¹ íŒ¨í‚¤ì§€ì˜ ë²„ì „ì—…ì„ ê¸°ë‹¤ë¦´ ìˆ˜ ì—†ëŠ” ê²½ìš°ì— ì£¼ë¡œ ì‚¬ìš©
  - https://blog.logto.io/ko/pnpm-upgrade-transitive-dependencies
- ì‚¬ìš©í•˜ëŠ” ì˜ì¡´ì„± íŒ¨í‚¤ì§€ì˜ ì¼ë¶€ì˜ ë²„ì „ ìˆ˜ì •ì´ í•„ìš”í•œë°, íŒ¨í‚¤ì§€ê°€ ìƒˆë¡­ê²Œ ë¦´ë¦¬ì¦ˆë˜ëŠ” ê²ƒì„ ê¸°ë‹¤ë¦¬ê¸° ì–´ë ¤ìš´ ê²½ìš°ì—ë„ ì‚¬ìš©
- í•˜ì§€ë§Œ overridesëŠ” **_íŒ¨í‚¤ì§€ ê°œë°œìê°€ ì •í•´ ë†“ì€ ì˜ì¡´ì„±ì„ ì„ì˜ë¡œ ë®ì–´ì“°ëŠ” ê²ƒ_**ìœ¼ë¡œ ì‚¬ìš©í•  ë•Œ ì£¼ì˜ í•„ìš”

#### engines

- íŒ¨í‚¤ì§€ê°€ ì‹¤í–‰ ê°€ëŠ¥í•œ Node.js ë²„ì „ì„ ëª…ì‹œí•  ìˆ˜ ìˆìŒ

```jsx
{
  "engines": {
    "node": "^18.19.1",
		"npm": "^10.4.0"
  }
}
```

- ì‚¬ìš©ìê°€ config íŒŒì¼ì—ì„œ engine-strict ì„¤ì •ê³¼ í™œì„±í™” í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ë‹¨ìˆœíˆ ê²½ê³ ë§Œ ë…¸ì¶œ

#### os

- íŒ¨í‚¤ì§€ê°€ ì‹¤í–‰ ê°€ëŠ¥í•œ ìš´ì˜ì²´ì œë¥¼ ì„ ì–¸í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” í•„ë“œ

```jsx
{
	"os": ["darwin", "linux"]
}
```

- !ë¥¼ ì‚¬ìš©í•´ íŠ¹ì • osë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ í•  ìˆ˜ë„ ìˆìŒ

```jsx
{
	"os": ["!win32"]
}
```

- Node.jsëŠ” process.platform ë³€ìˆ˜ë¡œ í˜„ì¬ ìš´ì˜ì²´ì œë¥¼ íŒë‹¨í•˜ë©°, npmì€ ì´ë¥¼ package.jsonì˜ osì™€ ë¹„êµí•´ì„œ ì‹¤í–‰ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ê²°ì •
- ì•„ì£¼ íŠ¹ë³„í•œ ì´ìœ ê°€ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼ë©´ ê±°ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í•„ë“œ

#### cpu

- íŠ¹ì • CPU ì•„í‚¤í…ì²˜ë¥¼ ì„ ì–¸í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” í•„ë“œ
- Node.jsì—ì„œ process.archë¥¼ ì‚¬ìš©í•˜ë©´ ì‹¤í–‰ ì¤‘ì¸ í™˜ê²½ì˜ CPU ì•„í‚¤í…ì²˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŒ

```jsx
{
  "cpu": ["x64", "ia32"]
}
```

#### private

- í•´ë‹¹ í•„ë“œë¥¼ í™œì„±í™”í•˜ë©´ npmì´ í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ ì ˆëŒ€ë¡œ npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì—…ë¡œë“œí•˜ì§€ ì•ŠìŒ
- ìš°ë°œì ìœ¼ë¡œ ë°°í¬ë˜ëŠ” ê²ƒì„ ë§‰ëŠ” ìµœì„ ì˜ ë³´í˜¸ ì¥ì¹˜

#### ğŸ”· publishConfig

- íŒ¨í‚¤ì§€ë¥¼ ë°°í¬í•  ë•Œ í•„ìš”í•œ ì„¤ì • ê°’ì„ ì„ ì–¸í•  ë•Œ ì‚¬ìš©
- íŠ¹ì • íŒ¨í‚¤ì§€ë¥¼ ê¸°ë³¸ npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ë°°í¬í•˜ê³  ì‹¶ì„ ë•Œ í•´ë‹¹ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì£¼ì†Œ ì‘ì„±

```json
// GitHub ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì—…ë¡œë“œ
{
  "publishConfig": {
    "registry": "https://npm.pkg.github.com"
  }
}
```

#### ğŸ”· workspaces

- npm@7ë¶€í„° ë„ì…ëœ ì›Œí¬ìŠ¤í˜ì´ìŠ¤(workspace) ê¸°ëŠ¥ì„ ì§€ì›í•˜ê¸° ìœ„í•œ í•„ë“œ
- ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë€? ê¸°ë³¸ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ìµœìƒìœ„ íŒ¨í‚¤ì§€ ìœ„ì—ì„œ í•˜ìœ„ ì—¬ëŸ¬ íŒ¨í‚¤ì§€ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë°©ì‹
- ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ìµœìƒìœ„ì— í•˜ë‚˜ì˜ node_modulesì™€ package-lock.jsonì´ ìƒê¸°ëŠ” ëŒ€ì‹ , í•˜ìœ„ì— ìˆëŠ” íŒ¨í‚¤ì§€ë“¤ì€ ìµœìƒìœ„ì— ìˆëŠ” node_modulesë¥¼ ë³´ê³  ìì‹ ì´ í•„ìš”í•œ íŒ¨í‚¤ì§€ë“¤ì„ ì°¸ì¡°í•˜ê±°ë‚˜ íŒ¨í‚¤ì§€ ê°„ì— ì„œë¡œ ì°¸ì¡°ê°€ ê°€ëŠ¥

```json
{
  "name": "workspace",
  "workspaces": ["./packages/*"]
}
```

```json
.
+-- package.json
`-- packages
	+-- a
	|  `-- package.json
	`-- b
		 `-- package.json
```

- npm workspaces ì´ì™¸ì—ë„ yarn workspaces, lerna, Nx, Turborepo ë“±ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë…¸ë ˆí¬ë¥¼ ê´€ë¦¬

> â—ï¸ ì—¬ê¸°ì„œë¶€í„°ëŠ” npmì—ì„œëŠ” ê³µì‹ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•Šì§€ë§Œ Node.jsì—ì„œ ì‚¬ìš©í•˜ëŠ” í•„ë“œ

#### packageManager

- ì‹¤í—˜ì ìœ¼ë¡œ ìš´ì˜ ì¤‘ì¸ í•„ë“œ
- í˜„ì¬ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” íŒ¨í‚¤ì§€ ê´€ë¦¬ìë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŒ
  - npm, yarn, yarnpkg pnpm, pnpx ë“±ì— `@version`ì„ ì¶”ê°€í•´ì„œ ì œê³µ

```json
{
  "packageManager": "pnpm@8.14.3"
}
```

- Node.jsì—ì„œ ì œê³µí•˜ëŠ” corepackê³¼ í•¨ê»˜ ìœ ìš©í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥
  - corepackì€ Node.jsì—ì„œ íŒ¨í‚¤ì§€ ê´€ë¦¬ìë¥¼ ì‚¬ìš©í•˜ê¸° ì‰½ê²Œ ë„ì™€ì£¼ëŠ” ë„êµ¬ë¡œ, packageManager í•„ë“œì™€ í•¨ê»˜ ì‚¬ìš©

```json
{
  "name": "test",
  "packageManager": "pnpm@8.14.3",
  "scripts": {
    "start": "node ./index.js"
  },
  "dependencies": {
    "react": "17.0.2"
  }
}
```

- `corepack enable`ë¡œ corepack í™œì„±í™” â†’ yarn ì‹¤í–‰í•˜ë©´

```json
$ yarn
Usage Error: This project is configured to use pnpm
```

- ë°˜ëŒ€ë¡œ packageManagerë¥¼ yarnìœ¼ë¡œ ë³€ê²½í•˜ë©´ ê¸°ì¡´ ë¡œì»¬ ì‹œìŠ¤í…œì— yarnì´ ì—†ë‹¤ê³  í•˜ë”ë¼ë„ corepackì´ package.jsonì— ì„ ì–¸ëœ packageManagerì— ì•Œë§ì€ yarn ë²„ì „ì„ ì„¤ì¹˜í•´ì„œ ì •ìƒì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤Œ

> [!NOTE]
>
> #### ë™ì‘ì—ëŠ” ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì—†ì–´ ë³´ì´ëŠ”ë° ì™œ corepackì€ ì—¬ì „íˆ ì‹¤í—˜ ë‹¨ê³„ì¸ê°€ìš”?
>
> - Node.jsì—ì„œ corepackì„ ê¸°ë³¸ìœ¼ë¡œ í™œì„±í™”í•  ê²ƒì¸ê°€?
> - ë§Œì•½ í™œì„±í™”í•œë‹¤ë©´ Node.jsì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ë™ì‘í•˜ë˜ npmì€ ì–´ë–»ê²Œ ë³€ê²½í•´ì•¼ í•˜ëŠ”ê°€?

#### type

- CommonJSì™€ ESModule ì¤‘ Node.jsê°€ ì–´ë–¤ ëª¨ë“ˆ í˜•ì‹ì„ ì‚¬ìš©í• ì§€ ì•Œë¦¬ëŠ” í•„ë“œ
- commonjs(CommonJS) / module(ESModule)
- ì„ ì–¸í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’ì€ commonjs

#### exports

- mainì˜ ëŒ€ì•ˆìœ¼ë¡œ, íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì„œ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìì—ê²Œ íŒ¨í‚¤ì§€ì˜ ì§„ì…ì ì„ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆëŠ” í•„ë“œ
- í•˜ìœ„ pathë¥¼ ìƒì„¸í•˜ê²Œ ë‚˜íƒ€ë‚´ê±°ë‚˜ ì¡°ê±´ë¶€ exportsë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë° ì‚¬ìš©
- ì¡°ê±´ë¶€ ë‚´ë³´ë‚´ê¸°(conditional exports)ë¥¼ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ íŒ¨í‚¤ì§€ì—ì„œ CommonJSì™€ ESModule ë‘ ê°€ì§€ë¥¼ ë™ì‹œì— ì§€ì›í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥
  - https://toss.tech/article/commonjs-esm-exports-field

#### imports

- í•´ë‹¹ íŒ¨í‚¤ì§€ì—ì„œë§Œ ì“¸ ìˆ˜ ìˆëŠ” êµ¬ë¬¸ìœ¼ë¡œ, tsconfigì˜ ê²½ë¡œ ë³„ì¹­ì„ ì§€ì •í•  ìˆ˜ ìˆëŠ” compilerOptions.pathsì™€ ë™ì¼í•˜ê²Œ íŠ¹ì • ë¶ˆëŸ¬ì˜¤ê¸°ì— ëŒ€í•œ ë³„ì¹­ì„ ì§€ì •í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥
- importsëŠ” ë°˜ë“œì‹œ #ìœ¼ë¡œ ì‹œì‘í•´ì•¼ í•¨ â†’ ë‹¤ë¥¸ ëª¨ë“ˆ ì‹œìŠ¤í…œì´ë‚˜ @scopeì™€ ê°™ì€ npm ì‹œìŠ¤í…œê³¼ì˜ ì¶©ëŒì„ ë§‰ê¸° ìœ„í•œ ì¥ì¹˜
- ì ì ˆíˆ í™œìš© ì‹œ tsconfig.jsonì˜ pathë¥¼ ì‚¬ìš©í•  ë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì½ê¸° í˜ë“  ìƒëŒ€ ê²½ë¡œë¥¼ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•  ìˆ˜ ìˆìŒ

#### ê¸°íƒ€

- ì™¸ë¶€ íŒ¨í‚¤ì§€ ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì„¤ì • ê°’ ë˜í•œ package.json ë‚´ë¶€ì—ì„œ ì§€ì •í•´ì„œ í™œìš© ê°€ëŠ¥

```json
{
  "eslintConfig": {
    "extends": ["react-app", "react-app/jest"]
  },
  "lint-staged": {
    "**/*.{md}": "markdownlint",
    "**/*.{json,yaml}": "prettier --check",
    "**/*.{js,jsx,ts,tsx}": "eslint"
  },
  "msw": {
    "workerDirectory": "public"
  }
}
```

### package.json ìƒì„±í•˜ê¸°

- `npm init` â†’ clië¥¼ í†µí•´ í•„ìˆ˜ì ì¸ ë‚´ìš© êµ¬ì„±ìœ¼ë¡œ package.json ì„¤ì • ê°€ëŠ¥
- `npm init â€”yes`ë¡œ ë¬¸ë‹µì—†ì´ ì´ˆê¸° íŒŒì¼ ìƒì„±ë„ ê°€ëŠ¥
- `package.json`ì— ì£¼ì„ ë‹¤ëŠ” ë°©ë²•

  1. ì£¼ì„ ì‚¬ìš©ì´ ê°€ëŠ¥í•œ JSONC íŒŒì¼ í˜•ì‹ ì‚¬ìš©
     - ì£¼ì„ì´ í¬í•¨ëœ JSON íŒŒì¼ì„ ì²˜ë¦¬í•´ì•¼ í•˜ë¯€ë¡œ ë³„ë„ì˜ ì»´íŒŒì¼ëŸ¬ í•„ìš”
  2. `//`í‚¤ ì‚¬ìš©

     - npm íŒ€ì—ì„œ ê³µì‹ì ìœ¼ë¡œ ê¶Œì¥í•˜ëŠ” ë°©ì‹

     ```json
     {
       "name": "test",
       "//": ["ì•ˆë…•í•˜ì„¸ìš”", "ì£¼ì„ì…ë‹ˆë‹¤."],
       "scripts": {},
       "dependencies": {}
     }
     ```

     - ë‹¨, scripts ì•ˆì— ê°€ ìˆë‹¤ë©´ ê·¸ ìì²´ë¥¼ ëª…ë ¹ì–´ë¡œ íŒë‹¨í•˜ê³ , dependencies ì•ˆì— ìˆë‹¤ë©´ `//` íŒ¨í‚¤ì§€ë¥¼ ì‹œë„í•˜ë ¤ê³  í•˜ë‹ˆ ì£¼ì˜

     ```json
     {
       "name": "test",
       "scripts": {
         "//": "node index.js"
       },
       "dependencies": {
         "//": "hello, world"
       }
     }
     ```

  3. npm, Node.js ë“±ì—ì„œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì˜ˆì•½ì–´ ì‚¬ìš©

     - íŒ€ ë‹¨ìœ„ë¡œ í™•ì‹¤í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì ‘ë‘ì‚¬ ë“±ì˜ ê·œì¹™ì„ ì„ ì–¸í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ

     ```json
     {
       "name": "test",
       "@scripts_comment": "ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”",
       "scripts": {
         "start": "node index.js"
       }
     }
     ```

## npm config

> - npmì—ì„œ npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì—…ë¡œë“œí•˜ëŠ” íŒ¨í‚¤ì§€ ê°œë°œ ì‹œ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì„¤ì • ê°’

- `_auth`: npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì¸ì¦í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ë¬¸ìì—´ ê°’ (ê¸°ë³¸ê°’ null)
- ë ˆì§€ìŠ¤íŠ¸ë¦¬: npm íŒ¨í‚¤ì§€ê°€ ì—…ë¡œë“œë˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì£¼ì†Œ
- engine-strict: package.jsonì˜ engines í•„ë“œë¥¼ ì—„ê²©í•˜ê²Œ ì ìš©í• ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” ê°’
- access: íŒ¨í‚¤ì§€ë¥¼ ë°°í¬í•œ í›„, ë‹¤ì‹œ ì ‘ê·¼ ë ˆë²¨ ì œì–´í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©
- legacy-peer-deeps: peerDependenciesê°€ ë§ì§€ ì•Šë”ë¼ë„ ë¬´ì‹œí•˜ê³  ê³¼ê±° npm ë²„ì „ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì¹˜
- `.npmrc`: npmê³¼ ê´€ë ¨ëœ ì„¤ì • ê°’ì„ ê°€ì§€ê³  ìˆëŠ” íŒŒì¼ë¡œ configì™€ ê´€ë ¨ëœ ë‚´ìš© ê¸°ì¬ ê°€ëŠ¥
  - `.npmrc` íŒŒì¼ ë‚´ ì„¤ì •ì€ ëª¨ë‘ í‚¤=ê°’ í˜•íƒœë¡œ ì§€ì •
  - í”„ë¡œì íŠ¸ ìµœìƒìœ„ ê²½ë¡œì— ìœ„ì¹˜í•œ .npmrc íŒŒì¼ì´ ê°€ì¥ ë†’ì€ ìš°ì„ ìˆœìœ„
- `npm config list`ë¡œ í˜„ì¬ ìµœìƒìœ„ ê¸°ì¤€ìœ¼ë¡œ npm ì„¤ì • í™•ì¸ ê°€ëŠ¥

> [!NOTE]
>
> #### ì •ë¦¬
>
> - package.jsonì€ í”„ë¡œì íŠ¸ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ì •ì˜í•˜ê³ , ì˜ì¡´ì„± ê´€ë¦¬ë¶€í„° ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ê¹Œì§€ ë‹¤ì–‘í•œ ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” í•µì‹¬ íŒŒì¼
> - í•´ë‹¹ í”„ë¡œì íŠ¸ê°€ ì–´ë–¤ íŒ¨í‚¤ì§€ë¥¼ í•„ìš”ë¡œ í•˜ê³  ì–´ë–¤ í™˜ê²½ì—ì„œ ë™ì‘í•˜ëŠ”ì§€ë¥¼ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆìŒ

## 2.2 dependencies

### npm ë²„ì „ê³¼ ë²„ì „ì— ì‚¬ìš©ë˜ëŠ” íŠ¹ìˆ˜ ê¸°í˜¸

- íŠ¹ì • ë²„ì „ì„ ì„ ì–¸í•˜ëŠ” ê²½ìš°: í•´ë‹¹ ë²„ì „ê³¼ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë²„ì „ì˜ íŒ¨í‚¤ì§€ë§Œ ì„¤ì¹˜
  ```json
  {
    "dependencies": {
      "react": "18.2.0"
    }
  }
  ```
- `^version` (ìºëŸ¿): í˜¸í™˜ë˜ëŠ” ë²„ì „ì˜ ë³€ê²½ê¹Œì§€ë§Œ ìš©ì¸
  ```json
  {
    "dependencies": {
      "react": "^16.8.0"
    }
  }
  ```
- `~version` (í‹¸ë“œ): íŒ¨ì¹˜ ë²„ì „ì˜ ë³€ê²½ê¹Œì§€ë§Œ ìš©ì¸
  ```json
  {
    "dependencies": {
      "react": "~16.8.0"
    }
  }
  ```
- `*` ì• ìŠ¤í„°ë¦¬ìŠ¤í¬: ì•„ë¬´ ë²„ì „ì´ë‚˜ ìƒê´€ ì—†ìœ¼ë©°, npm installì´ë‚˜ npm update ì‹¤í–‰ ì‹œ ì‹¤í–‰ ì‹œì ì˜ ìµœì‹  ë²„ì „ ì„¤ì¹˜
- `x`: x.1.2, 1.x.2ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, xë¡œ ë“¤ì–´ê°„ ê³³ì—ëŠ” ì–´ë– í•œ ë²„ì „ì´ ì™€ë„ ìƒê´€ì—†ìŒì„ ì˜ë¯¸
- `>` , `â‰¥`, `â‰¤`, `<`: ì´ˆê³¼, ì´ìƒ, ì´í•˜, ë¯¸ë§Œì˜ ë²„ì „ì„ ë‚˜íƒ€ë‚¼ ë•Œ ì‚¬ìš©
- `version || version`: ë‘˜ ì¤‘ í•˜ë‚˜ë¥¼ ë§Œì¡±í•˜ëŠ” ë²„ì „ì„ ì˜ë¯¸
- `version1 - version2`: ë‘ ë²„ì „ ì‚¬ì´ì˜ ë²”ìœ„ë¥¼ ë§Œì¡±í•˜ëŠ” ë²„ì „ì„ ì˜ë¯¸
- `http://`: .tarë‚˜ tar.gz ê°™ì´ tarball íŒŒì¼ì´ ì—…ë¡œë“œë˜ì–´ ìˆëŠ” ì£¼ì†Œë¥¼ ì„ ì–¸ ê°€ëŠ¥
  - npm ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì—…ë¡œë“œí•˜ì§€ ì•Šê³ , ë³„ë„ CDN ë“±ì— ì—…ë¡œë“œí•œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•  ë•Œ ì‚¬ìš©
- ê¹ƒí—ˆë¸Œ ì£¼ì†Œ, git ì£¼ì†Œ, `file: {path}`ë¥¼ í†µí•œ ë¡œì»¬ì˜ íŠ¹ì • pathì— ìˆëŠ” íŒ¨í‚¤ì§€ ì„¤ì¹˜ë„ ê°€ëŠ¥

### dependencies

- npm íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ê°œë°œí•˜ê¸° ìœ„í•´ ë°˜ë“œì‹œ í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ì˜ë¯¸
- npm installì„ ì‹¤í–‰í•˜ë©´ ì´ í•­ëª©ì— ì •ì˜ëœ íŒ¨í‚¤ì§€ë“¤ì´ ìë™ìœ¼ë¡œ ì„¤ì¹˜ë¨
- dependenciesì— ìˆëŠ” íŒ¨í‚¤ì§€ëŠ” ë¬´ì¡°ê±´ ì„¤ì¹˜ë˜ê¸° ë•Œë¬¸ì— npmìœ¼ë¡œ ì—…ë¡œë“œë  íŒ¨í‚¤ì§€ë¼ë©´ dependenciesë¥¼ ì‹ ì¤‘í•˜ê²Œ ì„ ì–¸í•´ì•¼ í•¨

```json
{
  "name": "a",
  "dependencies": {
    "b": "1.0.0"
  }
}
```

```json
{
  "name": "b",
  "dependencies": {
    "a": "1.0.0"
  }
}
```

```json
.
ã„´ node_modules/
		ã„´ a/
				ã„´ b
```

```json
.
ã„´ node_modules/
		ã„´ c/
				ã„´ a/
						ã„´ b
```

### devDependencies

- í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìê°€ ì•„ë‹Œ í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ ê°œë°œí•˜ëŠ” ê°œë°œìê°€ í•„ìš”ë¡œ í•˜ëŠ” íŒ¨í‚¤ì§€ë¥¼ ì˜ë¯¸
- ë¹Œë“œ, í…ŒìŠ¤íŠ¸, í˜¹ì€ ê¸°íƒ€ íŒ¨í‚¤ì§€ ì´ìš©ì— ì§ì ‘ì ìœ¼ë¡œ í•„ìš”í•˜ì§€ ì•Šì€ ê°œë°œ ë„êµ¬ë“¤ì´ devDependenciesë¡œ ì„ ì–¸
- ì‚¬ì‹¤ìƒ npmìœ¼ë¡œ ì—…ë¡œë“œë˜ì§€ ì•ŠëŠ” íŒ¨í‚¤ì§€, ëŒ€ë‹¤ìˆ˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ íŒ¨í‚¤ì§€ì˜ ê²½ìš° dependenciesì™€ devDependenciesì˜ ì°¨ì´ê°€ ì—†ì„ ìˆ˜ ìˆìŒ
  - ë‘˜ì˜ ì£¼ìš” ì°¨ì´ì ì´ _â€˜í•´ë‹¹ íŒ¨í‚¤ì§€ê°€ ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œ ì„¤ì¹˜ë  ë•Œ ì„¤ì¹˜ë˜ëŠ”ê°€?â€™_ ì—¬ë¶€ì´ê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ì°¨ì´ì ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ëª¨í˜¸í•´ì§

### peerDependencies

- íŠ¹ì • í˜¸ìŠ¤íŠ¸ íŒ¨í‚¤ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ëœ íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ê³  ì‹¶ì„ ë•Œ ë°˜ë“œì‹œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” í•„ë“œ
  - í˜¸ìŠ¤íŠ¸ íŒ¨í‚¤ì§€: í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ ì˜ë¯¸
- í˜¸í™˜ì„± ì„ ì–¸ ìš©ë„
  - í”ŒëŸ¬ê·¸ì¸ì´ ì–´ë–¤ íŒ¨í‚¤ì§€ì™€ í˜¸í™˜ë˜ëŠ”ì§€ ëª…ì‹œì ìœ¼ë¡œ ì„ ì–¸í•˜ì—¬ í˜¸í™˜ì„±ì„ ë³´ì¥
- ì‚¬ìš©ìì—ê²Œ íŠ¹ì • íŒ¨í‚¤ì§€ ì„¤ì¹˜ì— ì£¼ì˜ë¥¼ ì£¼ëŠ” ìš©ë„
  - ì‚¬ìš©ì ì¸¡ì—ì„œ ë²„ì „ë§Œ ë‹¤ë¥¸ ë™ì¼í•œ ë¬´ê±°ìš´ íŒ¨í‚¤ì§€ë¥¼ ê°€ì§€ê³  ìˆì„ ë•Œ ì¤‘ë³µ ì„¤ì¹˜ë¥¼ ë°©ì§€
  - peerDependenciesë¡œ ì„ ì–¸í•´ë‘”ë‹¤ë©´ íŒ¨í‚¤ì§€ ê´€ë¦¬ìì— ë”°ë¼ ì„¤ì¹˜ê°€ ì •ìƒì ìœ¼ë¡œ ì§„í–‰ë˜ì§€ ì•Šê±°ë‚˜ ì„¤ì¹˜ í›„ ì˜¤ë¥˜ ë©”ì‹œì§€ ë°˜í™˜ (íŒ¨í‚¤ì§€ ê´€ë¦¬ìë§ˆë‹¤ ì„¤ì •ì€ ì¡°ê¸ˆì”© ë‹¤ë¦„)
  - ë³„ë‹¤ë¥¸ ë©”ì‹œì§€ ì—†ì´ ë¬´ì¡°ê±´ ì„¤ì¹˜í•˜ëŠ” dependenciesì™€ëŠ” ë‹¬ë¦¬ peerDependenciesëŠ” í•´ë‹¹ êµ¬ì¡°ê°€ ë§Œì¡±í•˜ì§€ ì•ŠëŠ” ê²½ìš° ê²½ê³  ë¬¸êµ¬ë¥¼ ë‚´ë³´ë‚´ê±°ë‚˜ ì„¤ì¹˜ë¥¼ ë§‰ëŠ” ë“±ì˜ ì¶”ê°€ì ì¸ ì¡°ì¹˜ë¥¼ ì§„í–‰

### peerDependenciesMeta

- ì„ íƒì ì¸ í˜¸ìŠ¤íŠ¸ íŒ¨í‚¤ì§€ë¥¼ ì„ ì–¸í•  ë•Œ ìœ ìš©
- `@yceffort/middleware`ê°€ ì œê³µí•˜ëŠ” í˜•íƒœê°€ Koa, Express, NestJSë¡œ ì™„ë²½íˆ ê²©ë¦¬ë˜ì–´ export í•˜ê³  ìˆëŠ” ê²½ìš°
  - ì´ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ìª½ì—ì„œëŠ” ì„¸ ê°œ ì¤‘ í•˜ë‚˜ì˜ ê²½ë¡œë§Œ ì·¨ì‚¬ì„ íƒí•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•¨

```jsx
import koaMiddelware from '@yceffort/middleware/koa'
import expressMiddleware from '@yceffort/middleware/express'
import nestjsMiddelware from '@yceffort/middleware/nestjs'
```

```jsx
// koa.js
import koa from 'koa'

export default function Middleware() {}

// express.js
import express from 'express'

export default function Middleware() {}

// nestjs.js
import { Middleware } from '@nestjs/common'

export default function Middleware() {}
```

- peerDependenciesì— ì„ ì–¸í•˜ëŠ” ê²½ìš° â†’ í•˜ë‚˜ì˜ í”„ë ˆì„ì›Œí¬ë§Œ ì‚¬ìš©í•˜ë”ë¼ë„ ëª¨ë‘ ì„ íƒí•´ì•¼ í•¨

```jsx
{
	"name": "@yceffort/middleware",
	"peerDependencies": {
		"koa": "*",
		"express": "*",
		"nestjs": "*"
	}
}
```

- peerDependenciesMetaë¡œ ì˜µì…˜ ì„¤ì •ì„ í†µí•´ ì„¸ ê°œ ì¤‘ í•˜ë‚˜ì˜ í”„ë ˆì„ì›Œí¬ë§Œ ì„ íƒí•˜ë”ë¼ë„ íŠ¹ë³„íˆ ì—ëŸ¬ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šê²Œ ì„¤ì •í•  ìˆ˜ ìˆìŒ
  - íŒ¨í‚¤ì§€ ëª©ì ì— ë¶€í•©
  - ì‚¬ìš©í•˜ëŠ” ìª½ì—ì„œ ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œë” ë„ì™€ì£¼ë©´ì„œë„ ë™ì‹œì— í˜¸í™˜ì„± ì„ ì–¸ ê°€ëŠ¥
  - â—ï¸íŒ¨í‚¤ì§€ê°€ ì—†ëŠ” ê²½ìš°ì—ë„ ì—ëŸ¬ë¥¼ ë°œìƒí•˜ì§€ëŠ” ì•Šê² ì§€ë§Œ ì‹¤ì œë¡œ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ê³¼ì •ì—ì„œë„ í•´ë‹¹ íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì—ëŸ¬ ë°œìƒ

```jsx
{
	"name": "@yceffort/middleware",
	"peerDependencies": {
		"koa": "*",
		"express": "*",
		"nestjs": "*"
	},
	"peerDependenciesMeta": {
		"koa": {
			"optional": true
		},
		"express": {
			"optional": true
		},
		"nestjs": {
			"optional": true
		}
	}
}
```
