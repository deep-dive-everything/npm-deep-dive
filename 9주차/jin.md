# 5.1 트랜스 파일을 도와주는 도구, 바벨

### 등장 배경

- ES6+ 문법이 등장했지만 **구형 브라우저는 지원 부족**
- 최신 문법을 유지하면서도 **실행 가능한 코드로 변환** 필요 → 트랜스파일러 필요

### Babel이 해결하는 문제

| 문제 | Babel 역할 |
| --- | --- |
| 최신 문법을 구형 환경에서 실행 불가 | ES5 형태로 변환 |
| JSX / TS 등 다양한 확장 문법 등장 | 다양한 문법 → JS 코드로 변환 |
| 기능별 세밀한 변환 구조 필요 | 플러그인 기반 확장 구조 |
| 환경별 설정 복잡 | 프리셋으로 미리 구성된 규칙 제공 |

### Babel 동작 방식

| 단계 | 동작 |
| --- | --- |
| Parsing | 소스코드를 읽고 AST 생성 |
| Transform | 플러그인/프리셋 적용해 AST 변환 |
| Generate | 변경된 AST → 코드로 재출력 |

> AST 기반 변환 구조로 필요 기능만 선택적 적용 가능
> 

### Babel 단독 사용 한계

| 한계 |  |
| --- | --- |
| require/module.exports 브라우저 미지원 | ESM/CJS 변환 후에도 **번들링 필요** |
| 코드 스플리팅 미지원 | 규모가 커질수록 파일 관리 어려움 |
| JS 외 처리 불가 | CSS, 이미지 등 처리 불가 |

> 실제 프로젝트에서는 웹팩 롤업 등 모듈 번들러 + Babel 조합 사용
> 

---

## 2. 폴리필을 도와주는 도구 core-js

### 폴리필이 필요한 이유

- `Promise`, `Map`, `Array.prototype.includes` 등 **런타임 기능은 단순 문법 변환으로 대체 불가**
- 구형 브라우저에서도 최신 기능을 사용하기 위해 **동일 API를 전역에 추가 ⇒ 폴리필**

### core-js 특징

| 특징 |  |
| --- | --- |
| 최신 ECMAScript 폴리필 제공 | Promise, Map, Iterator 등 지원 |
| 모듈화 | 필요한 기능만 import 가능 |
| 제안 단계 기능 제공 | 최신 실험 기능 테스트 가능 |
| Babel과 연동 | preset-env와 함께 자동 적용 가능 |

### 런타임 폴리필 로드 시 주의점

| 문제 |  |
| --- | --- |
| 번들 크기 증가 | 모든 폴리필/헬퍼 포함 시 코드 증가 |
| 전역 오염 | 전역 객체 확장 → 충돌 가능성 |
