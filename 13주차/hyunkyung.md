# 직접 자바스크립트 패키지 만들기

## 7.1 나만의 npm 패키지 만들기

### 7.1.1 패키지 개발을 위한 체크리스트

#### 7.1.1.1 아이디어 검증 및 기술적 타당성 검토

- 이미 있는 것도 유지보수가 잘 안되고 있을 수 있으니 만들어보는 것도 좋음
- 특정 환경에서 활용될 패키지를 만드는것도 유의미
- 학습이나 코드 관리를 목적으로 하는 것도 좋음 -> eslint나 prettier 규칙을 만들어보는 것
  - 자신이 관리하는 서비스에서 해당 패키지 미리 개발해보기

#### 7.1.1.2 라이선스 선택

- 순수 오픈소스: MIT, Apache 2.0 -> 가장 자유로운 사용 허용
- 코드 공개 의무: GPL, LGPL -> 파생 작업의 소스코드 공개 요구
- 상업적 이용 고려: Apache 2.0, BSD -> 특허 조항 포함, 기업 친화적
- 단순 활용 목적: MIT, ISC -> 간단하고 짧은 라이선스, 사용 제한 최소화
- 예술/연구 목적: Apache 2.0. MIT -> 인용과 재사용이 용이한 라이선스
- 기업 내부 사용: proprietary, MIT -> 내부 사용은 제한적 공개나 비공개 가능
- 커뮤니티 중심, MPL, EPL -> 파일 단위의 카피레프트, 모듈화에 유리

#### 7.1.1.4 지원 환경

- EOL을 참고
- browserlist 참고
- 필요한 의존성 정의 -> peerDependencies 신경쓰기
- CI/CD 설정

## 실습

### 프로젝트 실습

### 배럴 파일

- 장점: 코드를 깔끔하게 정리하고 사용할 수 있음
- 단점
  - export 파일 간의 충돌 발생 가능성
  - 모듈의 출처 파악하기 어려움
  - export default는 별도 처리 필요
  - 다른 모듈의 부수 효과가 격리되지 않음
  - 트리 셰이킹의 불편함
- 해결
  - 모듈 내부의 부수 효과 최소화 (격리하여 작성)
  - package.json의 exports 필드 활용하여 사용
  - - 말고 선택된 모듈만 내보내기
